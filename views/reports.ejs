<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/reports/style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto+Serif:wght@400;700&display=swap"
    />
    <title>Fi Tri9i</title>
  </head>
  <body>
    <%-include('./partials/navbar.ejs') %>

    <div class="gauche">
      <div class="lesphotos">
        <div class="prof">
          <img src="/reports/pics/Ellipse 1 (1).svg" alt="" />
        </div>
        <br /><br /><br /><br /><br /><br />
        <div class="maison"><img src="/reports/pics/Home.svg" alt="" /></div>
        <br /><br /><br /><br /><br /><br />
        <div class="pers"><img src="/reports/pics/Person.svg" alt="" /></div>
      </div>
    </div>

    <main class="content">
      <div class="titre">Comptes &nbsp;Signalés</div>
      <div class="search-container">
        <input
          type="text"
          name="query"
          placeholder="Search"
          class="search"
          id="search-input"
        />
        <label for="search-input" class="search-icon"
          ><img src="/reports/pics/search-normal.svg" alt=""
        /></label>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th class="entete">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nom du
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conducteur
            </th>
            <th class="entete">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date</th>
            <th class="entete">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nom<br />
              du passager
            </th>
            <th class="entete">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Raison
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; du signalement
            </th>
          </tr>
        </thead>

        <tbody id="reports"></tbody>
      </table>
      <div id="blur-background"></div>
      <div class="container">
        <div class="ban">Banner</div>
        <div class="text1">
          Vous êtes sûr que vous voulez bannir cet utilisateur ?
        </div>
        <div class="row">
          <button class="oui">oui</button>
          <button class="Annuler">ANNULER</button>
        </div>
      </div>
    </main>

    <script>
          let reportList = [
          {
              driver: "John",
              date: "2023-05-15",
              passenger: "Alice",
              reason: "Non-respect des conditions de covoiturage"
          },
          {
              driver: "Emily",
              date: "2023-05-16",
              passenger: "Bob",
              reason: "Véhicule en mauvais état"
          },
          {
              driver: "Michael",
              date: "2023-05-17",
              passenger: "Charlie",
              reason: "Comportement dangereux du conducteur"
          },
          {
              driver: "Sophia",
              date: "2023-05-18",
              passenger: "David",
              reason: "Absence du conducteur au point de rendez-vous"
          },
          {
              driver: "Olivia",
              date: "2023-05-19",
              passenger: "Emma",
              reason: "Exigences imprévues pendant le trajet"
          },
          {
              driver: "John",
              date: "2023-05-15",
              passenger: "Alice",
              reason: "Non-respect des conditions de covoiturage"
          },
          {
              driver: "Emily",
              date: "2023-05-16",
              passenger: "Bob",
              reason: "Véhicule en mauvais état"
          },
          {
              driver: "Michael",
              date: "2023-05-17",
              passenger: "Charlie",
              reason: "Comportement dangereux du conducteur"
          },
          {
              driver: "Sophia",
              date: "2023-05-18",
              passenger: "David",
              reason: "Absence du conducteur au point de rendez-vous"
          },
          {
              driver: "Olivia",
              date: "2023-05-19",
              passenger: "Emma",
              reason: "Exigences imprévues pendant le trajet"
          },
          {
              driver: "John",
              date: "2023-05-15",
              passenger: "Alice",
              reason: "Non-respect des conditions de covoiturage"
          },
          {
              driver: "Emily",
              date: "2023-05-16",
              passenger: "Bob",
              reason: "Véhicule en mauvais état"
          },
          {
              driver: "Michael",
              date: "2023-05-17",
              passenger: "Charlie",
              reason: "Comportement dangereux du conducteur"
          },
          {
              driver: "Sophia",
              date: "2023-05-18",
              passenger: "David",
              reason: "Absence du conducteur au point de rendez-vous"
          },
          {
              driver: "Olivia",
              date: "2023-05-19",
              passenger: "Emma",
              reason: "Exigences imprévues pendant le trajet"
          },
          {
              driver: "John",
              date: "2023-05-15",
              passenger: "Alice",
              reason: "Non-respect des conditions de covoiturage"
          },
          {
              driver: "Emily",
              date: "2023-05-16",
              passenger: "Bob",
              reason: "Véhicule en mauvais état"
          },
          {
              driver: "Michael",
              date: "2023-05-17",
              passenger: "Charlie",
              reason: "Comportement dangereux du conducteur"
          },
          {
              driver: "Sophia",
              date: "2023-05-18",
              passenger: "David",
              reason: "Absence du conducteur au point de rendez-vous"
          },
          {
              driver: "Olivia",
              date: "2023-05-19",
              passenger: "Emma",
              reason: "Exigences imprévues pendant le trajet"
          }

      ];
      const newData = [<%-reports%>];
      for (let i = 0; i < newData.length; i++) {
            if (newData[i]) {
              console.log(reportList[i])
              reportList[i].driver = newData[i].driverName || "";
              reportList[i].passenger = newData[i].clientName || "";
              reportList[i].reason = newData[i].reason || "99 : 99";
              console.log(reportList[i])
              }
          }
          console.log(newData)
      console.log(newData)
      function createTripRow(driver, date, passenger, reason) {
          // Create a new table row
          const row = document.createElement('tr');

          // Set the inner HTML content for each cell
          row.innerHTML = `
              <td class="psg">${driver}</td>
              <td class="date">${date}</td>
              <td class="passager">${passenger}</td>
              <td class="motif">${reason}</td>
              <td class="action">
                  <button class="ban-btn">Bannir</button>
                  <button class="ignore-btn">Ignorer</button>
              </td>
          `;

          // Return the created table row
          return row;
      }
    </script>
    <script src="/reports/script.js"></script>
  </body>
</html>
